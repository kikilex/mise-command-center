<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - Focus Queue V3</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; }
    
    /* Animations */
    @keyframes confetti-fall {
      0% { transform: translateY(-100%) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }
    .confetti { position: fixed; width: 10px; height: 10px; top: -10px; animation: confetti-fall 3s ease-out forwards; z-index: 9999; }
    
    @keyframes money-fall {
      0% { transform: translateY(-50px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
    }
    .money { position: fixed; font-size: 30px; top: -50px; animation: money-fall 2.5s ease-out forwards; z-index: 9999; }
    
    @keyframes firework {
      0% { transform: scale(0); opacity: 1; }
      50% { transform: scale(1); opacity: 1; }
      100% { transform: scale(1.5); opacity: 0; }
    }
    .firework { position: fixed; font-size: 60px; animation: firework 1s ease-out forwards; z-index: 9999; }
    
    @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
    .shake { animation: shake 0.3s ease-in-out; }
    
    @keyframes trophy-popup {
      0% { transform: scale(0) rotate(-10deg); opacity: 0; }
      50% { transform: scale(1.2) rotate(5deg); opacity: 1; }
      100% { transform: scale(1) rotate(0deg); opacity: 1; }
    }
    .trophy-popup { animation: trophy-popup 0.5s ease-out forwards; }
    
    @keyframes legendary-flash {
      0%, 100% { opacity: 0; }
      50% { opacity: 1; }
    }
    .legendary-flash { animation: legendary-flash 0.1s ease-in-out 5; }
    
    @keyframes fire-float {
      0%, 100% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-4px) scale(1.05); }
    }
    .fire-float { animation: fire-float 0.8s ease-in-out infinite; }
    
    @keyframes flame-flicker {
      0%, 100% { opacity: 0.8; transform: scaleY(1); }
      50% { opacity: 1; transform: scaleY(1.1); }
    }
    .flame-flicker { animation: flame-flicker 0.3s ease-in-out infinite; }
    
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 10px rgba(249, 115, 22, 0.3); }
      50% { box-shadow: 0 0 30px rgba(249, 115, 22, 0.6); }
    }
    .pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
    
    @keyframes slide-in { from { transform: translateX(30px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
    .slide-in { animation: slide-in 0.4s ease-out forwards; }
    
    /* Fire intensity levels */
    .fire-off { filter: grayscale(1) opacity(0.3); }
    .fire-low { filter: grayscale(0.5) opacity(0.6); }
    .fire-medium { filter: none; }
    .fire-high { filter: brightness(1.1) saturate(1.2); }
    .fire-legendary { filter: brightness(1.3) saturate(1.5); animation: flame-flicker 0.2s ease-in-out infinite; }
  </style>
</head>
<body class="bg-slate-50 min-h-screen">

  <!-- Simple Navbar (unchanged) -->
  <nav class="bg-white border-b border-slate-200 px-6 py-3 sticky top-0 z-50">
    <div class="max-w-7xl mx-auto flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-8 h-8 bg-violet-600 rounded-lg flex items-center justify-center">
          <span class="text-white font-bold text-sm">M</span>
        </div>
        <span class="font-bold text-slate-800">Mise Command Center</span>
      </div>
      <div class="flex items-center gap-4">
        <button class="text-slate-500 hover:text-slate-700">Tasks</button>
        <button class="text-slate-500 hover:text-slate-700">Projects</button>
        <button class="text-slate-500 hover:text-slate-700">AI</button>
        <div class="w-8 h-8 bg-gradient-to-br from-violet-500 to-purple-600 rounded-full"></div>
      </div>
    </div>
  </nav>

  <main class="max-w-7xl mx-auto px-6 py-8">
    <div class="flex flex-col lg:flex-row gap-8">
      
      <!-- Main Content -->
      <div class="flex-1 space-y-6">
        
        <!-- üî• Today's Progress - Fire Bar (Enhanced) -->
        <div class="bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden" id="fireCard">
          <div class="bg-slate-50 px-6 py-4 border-b border-slate-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center pulse-glow">
                <span class="text-xl">üî•</span>
              </div>
              <div>
                <h2 class="font-bold text-slate-800">Today's Progress</h2>
                <p class="text-xs text-slate-500" id="fireSubtitle">Light your first fire!</p>
              </div>
            </div>
            <div class="text-right">
              <div class="text-2xl font-bold" id="fireCount"><span class="text-slate-300">0</span> <span class="text-slate-400">/ 8</span></div>
              <div class="text-xs text-slate-400" id="fireBonus"></div>
            </div>
          </div>
          <div class="px-6 py-5">
            <div class="relative">
              <!-- Background track -->
              <div class="h-14 bg-slate-100 rounded-xl overflow-hidden relative">
                <!-- Fire progress fill -->
                <div class="h-full transition-all duration-700 ease-out rounded-xl" id="fireProgress" style="width: 0%; background: linear-gradient(90deg, #f97316, #ea580c, #dc2626);"></div>
              </div>
              <!-- Fire emojis -->
              <div class="absolute inset-0 flex items-center justify-between px-3" id="fireEmojis">
                <!-- Generated by JS based on count -->
              </div>
              <!-- Exceeded badge -->
              <div class="absolute -right-2 -top-2 bg-gradient-to-r from-yellow-400 to-amber-500 text-white text-sm font-bold px-3 py-1 rounded-full shadow-lg hidden" id="exceededBadge">
                <span id="exceededCount">+0</span> üíé
              </div>
            </div>
            <!-- Fire level controls for demo -->
            <div class="mt-4 flex gap-2 justify-center">
              <button onclick="setFireLevel(0)" class="px-3 py-1 bg-slate-200 rounded-lg text-xs">0 ü•∂</button>
              <button onclick="setFireLevel(2)" class="px-3 py-1 bg-slate-200 rounded-lg text-xs">2 üî•</button>
              <button onclick="setFireLevel(5)" class="px-3 py-1 bg-slate-200 rounded-lg text-xs">5 üî•üî•</button>
              <button onclick="setFireLevel(8)" class="px-3 py-1 bg-slate-200 rounded-lg text-xs">8 ‚úÖ</button>
              <button onclick="setFireLevel(12)" class="px-3 py-1 bg-yellow-200 rounded-lg text-xs">12 üëë</button>
            </div>
          </div>
        </div>

        <!-- ‚ö° Focus Queue Card -->
        <div class="bg-white rounded-2xl border-2 border-violet-500 shadow-lg overflow-hidden">
          <div class="bg-gradient-to-r from-violet-600 to-purple-600 px-6 py-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center">
                <span class="text-xl">‚ö°</span>
              </div>
              <div>
                <h2 class="font-bold text-white">Focus Queue</h2>
                <p class="text-xs text-violet-200">2 of 5 ‚Ä¢ Stay locked in</p>
              </div>
            </div>
            <div class="flex gap-1.5">
              <div class="w-3 h-3 bg-green-400 rounded-full"></div>
              <div class="w-3 h-3 bg-yellow-400 rounded-full animate-pulse"></div>
              <div class="w-3 h-3 bg-white/30 rounded-full"></div>
              <div class="w-3 h-3 bg-white/30 rounded-full"></div>
              <div class="w-3 h-3 bg-white/30 rounded-full"></div>
            </div>
          </div>
          <div class="p-6">
            <div class="flex items-start justify-between mb-4">
              <div>
                <div class="flex items-center gap-2 mb-2">
                  <span class="px-2 py-0.5 bg-red-100 text-red-600 text-xs rounded-full font-medium">HIGH</span>
                  <span class="px-2 py-0.5 bg-violet-100 text-violet-600 text-xs rounded-full font-medium">Faithstone</span>
                </div>
                <h3 class="text-lg font-bold text-slate-800">Review TikTok content batch for Mom's approval</h3>
                <p class="text-slate-500 text-sm mt-1">Check the 5 prayer videos in the pipeline before posting.</p>
              </div>
            </div>
            <div class="flex items-center justify-center my-6">
              <div class="bg-slate-100 rounded-2xl px-8 py-4">
                <div class="text-4xl font-mono font-bold text-slate-800">23<span class="text-slate-400">:</span>47</div>
                <div class="text-center text-xs text-slate-500 mt-1">Time on task</div>
              </div>
            </div>
            <div class="flex items-center justify-center gap-3">
              <button class="px-5 py-2.5 bg-slate-200 hover:bg-slate-300 rounded-xl font-medium text-slate-700 transition-all flex items-center gap-2">‚è∏ Pause</button>
              <button id="doneBtn" class="px-8 py-2.5 bg-green-500 hover:bg-green-600 rounded-xl font-bold text-white transition-all flex items-center gap-2 text-lg shadow-lg shadow-green-500/30">‚úì Done</button>
            </div>
            <div class="mt-6 pt-4 border-t border-slate-200">
              <div class="text-xs text-slate-400 uppercase font-medium mb-2">Up Next</div>
              <div class="flex items-center gap-3 text-slate-600">
                <div class="w-7 h-7 bg-slate-200 rounded-lg flex items-center justify-center text-sm font-medium">3</div>
                <span>Create Spanish translation project brief</span>
                <span class="ml-auto text-xs bg-yellow-100 text-yellow-700 px-2 py-0.5 rounded-full">MEDIUM</span>
              </div>
            </div>
          </div>
        </div>

        <!-- üéØ What's Next (EXACT current style) -->
        <div class="bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden">
          <div class="bg-slate-50 px-6 py-4 border-b border-slate-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl bg-emerald-600 flex items-center justify-center">
                <span class="text-xl">üéØ</span>
              </div>
              <div>
                <h2 class="font-bold text-slate-800">What's Next</h2>
                <p class="text-xs text-slate-500">4 projects with tasks</p>
              </div>
            </div>
            <button class="text-violet-600 text-sm font-medium hover:underline">All Tasks ‚Üí</button>
          </div>
          <div class="p-4 grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Project Card 1 -->
            <div class="relative p-4 rounded-xl border-2 bg-slate-50 border-slate-200 hover:border-emerald-300 transition-all cursor-pointer hover:shadow-md">
              <button class="absolute top-2 right-2 w-7 h-7 rounded-full bg-amber-100 text-amber-500 flex items-center justify-center">‚òÖ</button>
              <div class="flex items-start gap-2 mb-3 pr-8">
                <span class="text-xl">üìò</span>
                <div class="min-w-0">
                  <h3 class="font-bold text-slate-800 line-clamp-1">SWP Extended Edition</h3>
                  <p class="text-xs text-slate-500">12/45 tasks</p>
                </div>
              </div>
              <div class="mb-3">
                <div class="flex items-center justify-between text-xs mb-1">
                  <span class="text-slate-500">Progress</span>
                  <span class="font-bold text-slate-700">27%</span>
                </div>
                <div class="h-2 bg-slate-200 rounded-full overflow-hidden">
                  <div class="h-full bg-violet-500 rounded-full" style="width: 27%"></div>
                </div>
              </div>
              <div class="bg-white rounded-lg p-3 border border-slate-100">
                <p class="text-[10px] font-bold uppercase tracking-wider text-slate-400 mb-1">Next Up</p>
                <p class="text-sm text-slate-700 line-clamp-2">Write 5 prayers for Marriage section</p>
                <button class="mt-2 w-full px-3 py-1.5 bg-violet-100 text-violet-700 rounded-lg text-sm font-medium hover:bg-violet-200">Jump In ‚Üí</button>
              </div>
            </div>
            <!-- Project Card 2 -->
            <div class="relative p-4 rounded-xl border-2 bg-slate-50 border-slate-200 hover:border-emerald-300 transition-all cursor-pointer hover:shadow-md">
              <button class="absolute top-2 right-2 w-7 h-7 rounded-full bg-slate-100 text-slate-400 flex items-center justify-center hover:text-amber-500">‚òÜ</button>
              <div class="flex items-start gap-2 mb-3 pr-8">
                <span class="text-xl">üá™üá∏</span>
                <div class="min-w-0">
                  <h3 class="font-bold text-slate-800 line-clamp-1">Spanish Translation</h3>
                  <p class="text-xs text-slate-500">2/8 tasks</p>
                </div>
              </div>
              <div class="mb-3">
                <div class="flex items-center justify-between text-xs mb-1">
                  <span class="text-slate-500">Progress</span>
                  <span class="font-bold text-slate-700">25%</span>
                </div>
                <div class="h-2 bg-slate-200 rounded-full overflow-hidden">
                  <div class="h-full bg-violet-500 rounded-full" style="width: 25%"></div>
                </div>
              </div>
              <div class="bg-white rounded-lg p-3 border border-slate-100">
                <p class="text-[10px] font-bold uppercase tracking-wider text-slate-400 mb-1">Next Up</p>
                <p class="text-sm text-slate-700 line-clamp-2">Finalize translator selection</p>
                <button class="mt-2 w-full px-3 py-1.5 bg-violet-100 text-violet-700 rounded-lg text-sm font-medium hover:bg-violet-200">Jump In ‚Üí</button>
              </div>
            </div>
            <!-- Project Card 3 -->
            <div class="relative p-4 rounded-xl border-2 bg-slate-50 border-slate-200 hover:border-emerald-300 transition-all cursor-pointer hover:shadow-md">
              <button class="absolute top-2 right-2 w-7 h-7 rounded-full bg-slate-100 text-slate-400 flex items-center justify-center hover:text-amber-500">‚òÜ</button>
              <div class="flex items-start gap-2 mb-3 pr-8">
                <span class="text-xl">üì±</span>
                <div class="min-w-0">
                  <h3 class="font-bold text-slate-800 line-clamp-1">TikTok Shop Videos</h3>
                  <p class="text-xs text-slate-500">8/15 tasks</p>
                </div>
              </div>
              <div class="mb-3">
                <div class="flex items-center justify-between text-xs mb-1">
                  <span class="text-slate-500">Progress</span>
                  <span class="font-bold text-slate-700">53%</span>
                </div>
                <div class="h-2 bg-slate-200 rounded-full overflow-hidden">
                  <div class="h-full bg-violet-500 rounded-full" style="width: 53%"></div>
                </div>
              </div>
              <div class="bg-white rounded-lg p-3 border border-slate-100">
                <p class="text-[10px] font-bold uppercase tracking-wider text-slate-400 mb-1">Next Up</p>
                <p class="text-sm text-slate-700 line-clamp-2">Record 3 new prayer voiceovers</p>
                <button class="mt-2 w-full px-3 py-1.5 bg-violet-100 text-violet-700 rounded-lg text-sm font-medium hover:bg-violet-200">Jump In ‚Üí</button>
              </div>
            </div>
            <!-- Project Card 4 - Complete -->
            <div class="relative p-4 rounded-xl border-2 bg-emerald-50 border-emerald-200 transition-all cursor-pointer hover:shadow-md">
              <button class="absolute top-2 right-2 w-7 h-7 rounded-full bg-slate-100 text-slate-400 flex items-center justify-center hover:text-amber-500">‚òÜ</button>
              <div class="flex items-start gap-2 mb-3 pr-8">
                <span class="text-xl">‚öñÔ∏è</span>
                <div class="min-w-0">
                  <h3 class="font-bold text-slate-800 line-clamp-1">A&P Takedown Phase 1</h3>
                  <p class="text-xs text-slate-500">20/20 tasks</p>
                </div>
              </div>
              <div class="mb-3">
                <div class="flex items-center justify-between text-xs mb-1">
                  <span class="text-slate-500">Progress</span>
                  <span class="font-bold text-emerald-600">100%</span>
                </div>
                <div class="h-2 bg-emerald-200 rounded-full overflow-hidden">
                  <div class="h-full bg-emerald-500 rounded-full" style="width: 100%"></div>
                </div>
              </div>
              <div class="bg-emerald-100 rounded-lg p-3 text-center">
                <p class="text-sm text-emerald-700 font-medium">üéâ All tasks complete!</p>
              </div>
            </div>
          </div>
        </div>

        <!-- üß† Brain Dump (at bottom) -->
        <div class="bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden">
          <div class="bg-slate-50 px-6 py-4 border-b border-slate-200 flex items-center gap-3">
            <div class="w-10 h-10 rounded-xl bg-pink-500 flex items-center justify-center">
              <span class="text-xl">üß†</span>
            </div>
            <div>
              <h2 class="font-bold text-slate-800">Brain Dump</h2>
              <p class="text-xs text-slate-500">Get it out of your head</p>
            </div>
          </div>
          <div class="p-4">
            <textarea 
              placeholder="Dump your thoughts here... Ax will organize them into tasks."
              class="w-full h-24 bg-slate-50 rounded-xl p-4 text-sm border border-slate-200 focus:border-violet-500 focus:ring-2 focus:ring-violet-500/20 outline-none resize-none"
            ></textarea>
            <div class="flex justify-end mt-3">
              <button class="px-4 py-2 bg-violet-600 hover:bg-violet-700 text-white rounded-xl font-medium transition-all">Dump It üß†</button>
            </div>
          </div>
        </div>

      </div>

      <!-- Sidebar -->
      <div class="w-full lg:w-80 space-y-6">
        
        <!-- üìä Me vs Last Week (MOVED HERE, styled better) -->
        <div class="bg-gradient-to-br from-violet-600 via-purple-600 to-indigo-700 rounded-2xl p-5 text-white shadow-lg">
          <div class="flex items-center justify-between mb-4">
            <span class="text-sm font-medium text-violet-200">This Week</span>
            <span class="text-xs bg-white/20 px-2 py-0.5 rounded-full">vs Last Week</span>
          </div>
          <div class="flex items-end justify-between">
            <div>
              <div class="text-5xl font-black">47</div>
              <div class="text-violet-200 text-sm mt-1">üí∞ Money Bags</div>
            </div>
            <div class="text-right">
              <div class="text-2xl font-bold text-violet-200 line-through opacity-60">39</div>
              <div class="flex items-center gap-1 mt-2">
                <span class="bg-green-400 text-green-900 text-sm font-bold px-2 py-0.5 rounded-full">‚Üë 21%</span>
              </div>
            </div>
          </div>
          <div class="mt-4 pt-4 border-t border-white/20">
            <div class="flex items-center justify-between text-sm">
              <span class="text-violet-200">Best day:</span>
              <span class="font-bold">Tuesday (12 üí∞)</span>
            </div>
          </div>
        </div>

        <!-- Queue Overview -->
        <div class="bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden">
          <div class="px-5 py-4 border-b border-slate-200 flex items-center justify-between">
            <span class="font-bold text-slate-800">Today's Queue</span>
            <button class="text-xs text-violet-600 hover:underline">Edit</button>
          </div>
          <div class="p-3 space-y-2">
            <div class="flex items-center gap-3 p-2.5 bg-green-50 border border-green-200 rounded-xl">
              <div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white text-xs">‚úì</div>
              <span class="text-slate-500 line-through text-sm">Write 3 prayer hooks</span>
              <span class="ml-auto text-xs text-slate-400">18m</span>
            </div>
            <div class="flex items-center gap-3 p-2.5 bg-violet-50 border border-violet-300 rounded-xl">
              <div class="w-6 h-6 bg-violet-500 rounded-full flex items-center justify-center text-white text-xs font-bold">2</div>
              <span class="text-slate-800 font-medium text-sm">Review TikTok content...</span>
              <span class="ml-auto text-xs text-violet-600 font-medium">NOW</span>
            </div>
            <div class="flex items-center gap-3 p-2.5 rounded-xl hover:bg-slate-50">
              <div class="w-6 h-6 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 text-xs">3</div>
              <span class="text-slate-600 text-sm">Spanish translation brief...</span>
            </div>
            <div class="flex items-center gap-3 p-2.5 rounded-xl hover:bg-slate-50">
              <div class="w-6 h-6 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 text-xs">4</div>
              <span class="text-slate-600 text-sm">Review Mom's DMCA updates</span>
            </div>
            <div class="flex items-center gap-3 p-2.5 rounded-xl hover:bg-slate-50">
              <div class="w-6 h-6 bg-slate-200 rounded-full flex items-center justify-center text-slate-600 text-xs">5</div>
              <span class="text-slate-600 text-sm">Check Neo's store progress</span>
            </div>
          </div>
        </div>

        <!-- Break Reminder -->
        <div class="bg-blue-50 border border-blue-200 rounded-2xl p-4">
          <div class="flex items-center gap-3">
            <span class="text-2xl">üßò</span>
            <div>
              <div class="font-medium text-blue-800">Break in 1 task</div>
              <div class="text-xs text-blue-600">Stretch those legs, king</div>
            </div>
          </div>
        </div>

        <!-- Animation Test Buttons -->
        <div class="bg-slate-100 rounded-2xl p-4">
          <div class="text-xs text-slate-500 uppercase font-medium mb-3">Test Celebrations</div>
          <div class="grid grid-cols-2 gap-2">
            <button onclick="showConfetti()" class="px-3 py-2 bg-white rounded-xl text-sm font-medium hover:bg-slate-50 border border-slate-200">üéä Confetti</button>
            <button onclick="showMoney()" class="px-3 py-2 bg-white rounded-xl text-sm font-medium hover:bg-slate-50 border border-slate-200">üí∞ Money</button>
            <button onclick="showFireworks()" class="px-3 py-2 bg-white rounded-xl text-sm font-medium hover:bg-slate-50 border border-slate-200">üéÜ Fireworks</button>
            <button onclick="showTrophy()" class="px-3 py-2 bg-white rounded-xl text-sm font-medium hover:bg-slate-50 border border-slate-200">üèÜ Trophy</button>
            <button onclick="showLegendary()" class="px-3 py-2 bg-gradient-to-r from-yellow-400 to-amber-500 rounded-xl text-sm font-bold text-white hover:from-yellow-500 hover:to-amber-600 col-span-2 shadow-lg">üíé LEGENDARY (5% Rare)</button>
          </div>
        </div>

      </div>
    </div>
  </main>

  <!-- Overlays -->
  <div id="confetti-container"></div>
  <div id="trophy-container" class="fixed inset-0 flex items-center justify-center pointer-events-none z-50" style="display:none;">
    <div class="text-center trophy-popup">
      <div class="text-8xl mb-4">üèÜ</div>
      <div class="text-2xl font-bold text-yellow-500 drop-shadow-lg">TASK COMPLETE!</div>
    </div>
  </div>
  <div id="legendary-container" class="fixed inset-0 flex items-center justify-center pointer-events-none z-50" style="display:none;">
    <div class="fixed inset-0 bg-yellow-400/30 legendary-flash"></div>
    <div class="text-center z-10">
      <div class="bg-gradient-to-r from-yellow-400 via-amber-500 to-yellow-400 text-black font-black text-4xl px-12 py-4 rounded-xl shadow-2xl">
        ‚ö° LEGENDARY ‚ö°
      </div>
      <div class="text-7xl mt-4">üíéüëëüíé</div>
      <div class="text-white text-xl font-bold mt-2 drop-shadow-lg">YOU'RE ON FIRE!</div>
    </div>
  </div>

  <script>
    // Fire bar logic
    function setFireLevel(count) {
      const progress = document.getElementById('fireProgress');
      const emojis = document.getElementById('fireEmojis');
      const countEl = document.getElementById('fireCount');
      const subtitle = document.getElementById('fireSubtitle');
      const badge = document.getElementById('exceededBadge');
      const exceededCount = document.getElementById('exceededCount');
      const card = document.getElementById('fireCard');
      
      // Clear emojis
      emojis.innerHTML = '';
      
      // Calculate progress
      const goal = 8;
      const percent = Math.min((count / goal) * 100, 100);
      progress.style.width = percent + '%';
      
      // Update count
      const countColor = count === 0 ? 'text-slate-300' : count >= goal ? 'text-orange-500' : 'text-orange-400';
      countEl.innerHTML = `<span class="${countColor}">${count}</span> <span class="text-slate-400">/ ${goal}</span>`;
      
      // Subtitle
      if (count === 0) subtitle.textContent = 'Light your first fire!';
      else if (count < 3) subtitle.textContent = 'Getting warmed up...';
      else if (count < 5) subtitle.textContent = 'Good momentum! üî•';
      else if (count < goal) subtitle.textContent = 'On fire! Keep going!';
      else if (count === goal) subtitle.textContent = 'Goal reached! üéØ';
      else subtitle.textContent = 'LEGENDARY STATUS! üëë';
      
      // Exceeded badge
      if (count > goal) {
        badge.classList.remove('hidden');
        exceededCount.textContent = '+' + (count - goal);
      } else {
        badge.classList.add('hidden');
      }
      
      // Fire emojis with intensity
      const displayCount = Math.min(count, 10);
      for (let i = 0; i < 10; i++) {
        const div = document.createElement('div');
        div.className = 'flex-1 flex items-center justify-center';
        
        if (i < displayCount) {
          let intensityClass = '';
          if (count >= 10) intensityClass = 'fire-legendary';
          else if (count >= 7) intensityClass = 'fire-high fire-float';
          else if (count >= 4) intensityClass = 'fire-medium fire-float';
          else if (count >= 2) intensityClass = 'fire-low';
          else intensityClass = 'fire-low';
          
          div.innerHTML = `<span class="text-2xl ${intensityClass}" style="animation-delay: ${i * 0.1}s">üî•</span>`;
        } else {
          div.innerHTML = `<div class="w-2.5 h-2.5 rounded-full bg-slate-300"></div>`;
        }
        emojis.appendChild(div);
      }
      
      // Card glow when exceeded
      if (count > goal) {
        card.style.boxShadow = '0 0 30px rgba(245, 158, 11, 0.4)';
        progress.style.background = 'linear-gradient(90deg, #f59e0b, #d97706, #f59e0b)';
      } else {
        card.style.boxShadow = '';
        progress.style.background = 'linear-gradient(90deg, #f97316, #ea580c, #dc2626)';
      }
    }
    
    // Initialize
    setFireLevel(0);

    // Celebration functions
    function playSound(type) {
      // Would need actual audio files
      console.log('üîä Playing:', type);
    }

    function showConfetti() {
      playSound('pop');
      const container = document.getElementById('confetti-container');
      const colors = ['#f59e0b', '#22c55e', '#3b82f6', '#ec4899', '#8b5cf6', '#ef4444'];
      for (let i = 0; i < 80; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + 'vw';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.animationDelay = Math.random() * 0.5 + 's';
        confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
        container.appendChild(confetti);
        setTimeout(() => confetti.remove(), 3500);
      }
    }

    function showMoney() {
      playSound('cha-ching');
      const container = document.getElementById('confetti-container');
      for (let i = 0; i < 25; i++) {
        const money = document.createElement('div');
        money.className = 'money';
        money.textContent = Math.random() > 0.5 ? 'üí∞' : 'üíµ';
        money.style.left = Math.random() * 100 + 'vw';
        money.style.animationDelay = Math.random() * 0.8 + 's';
        container.appendChild(money);
        setTimeout(() => money.remove(), 3500);
      }
    }

    function showFireworks() {
      playSound('boom');
      const container = document.getElementById('confetti-container');
      const emojis = ['üéÜ', '‚ú®', 'üí•', 'üåü', '‚≠ê'];
      for (let i = 0; i < 10; i++) {
        setTimeout(() => {
          const fw = document.createElement('div');
          fw.className = 'firework';
          fw.textContent = emojis[Math.floor(Math.random() * emojis.length)];
          fw.style.left = (15 + Math.random() * 70) + 'vw';
          fw.style.top = (15 + Math.random() * 50) + 'vh';
          container.appendChild(fw);
          setTimeout(() => fw.remove(), 1500);
        }, i * 120);
      }
      document.body.classList.add('shake');
      setTimeout(() => document.body.classList.remove('shake'), 300);
    }

    function showTrophy() {
      playSound('victory');
      const container = document.getElementById('trophy-container');
      container.style.display = 'flex';
      showConfetti();
      setTimeout(() => container.style.display = 'none', 2500);
    }

    function showLegendary() {
      playSound('legendary');
      const container = document.getElementById('legendary-container');
      container.style.display = 'flex';
      showConfetti();
      setTimeout(() => showMoney(), 300);
      setTimeout(() => showFireworks(), 600);
      setTimeout(() => {
        container.style.display = 'none';
      }, 3500);
    }

    // Random celebration on Done
    document.getElementById('doneBtn').addEventListener('click', () => {
      const rand = Math.random();
      if (rand < 0.05) showLegendary();
      else if (rand < 0.25) showFireworks();
      else if (rand < 0.45) showMoney();
      else if (rand < 0.70) showTrophy();
      else showConfetti();
    });
  </script>

</body>
</html>
